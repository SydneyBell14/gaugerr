---
title: "Gauge R&R Analysis"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Gauge R&R Analysis}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

The goal of the gaugerr package is to make Gauge R&R analysis more convient for users by running on the tidymodels framework. 

## Gauge R&R Info

When working with Gauge R&R data, you want to know the capability of a measurement system. We can use statistical techniques to give a summary of confidence interval estimation for analysis of variance (ANOVA) models. These confidence intervals determine if the measurement system is capable of monitoring a manufacturing process. The package provides several functions for computing modified large sample (MLS) confidence intervals as well as a few modes of computing generalized confidence intervals (GCI), variance, mean sum of squares and point estimators. 

To use any function in this package you must provide a data set of Gauge R&R data for analysis. The gaugerr package makes it easy to run the analysis with a minimal amount of details needed to be provided. The functions that run the full analysis provide the user with confidence intervals and point estimator calculations as well as the opportunity to graph these values. There are also functions for specific calculations and this document will highlight some important features of the package. 

## Data: example data set

```{r}
example1 <- data.frame(P=c(1,1,2,3,4,4,5,5,6,6,7,8,8,9,9,10,10), O=c(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1), Y=c(37,38,42,30,42,43,28,30,42,42,25,40,40,25,25,35,34))
```

Based on observation we can see that this data set is unbalanced and only has one factor, so this gives us two options for functions. We can use gauge_rr() which is the general function that can be run on any data set or we can use unbalanced_one_factor() which is more specific to the qualities in this data set. We will walk through both examples. 

```{r}
gaugerr::unbalanced_one_factor(example1)
```


```{r}
gaugerr::gauge_rr(example1, factor1=example1$P)
```

As expected the two functions produce the same desired output which confirms our observation that this is a one factor unbalanced data set.

This package utilizes object oriented programming. The mechanics behind this idea can be a little complicated but it allows us to use the function plot() to graph the results from the data frame. The visual interpretation of the information can be valuable information. 

```{r}
table <- gaugerr::gauge_rr(example1, factor1 = example1$P)
plot(table)
```


Now that we understand an example that deals with one factor we will jump into a two factor with interaction data set next. The code below shows the construction of the data set. 


```{r}
example2 <- data.frame(P=c(1,2,3,4,1,2,3,4,1,2,3,4), 
                       O=c(1,1,1,1,2,2,2,2,3,3,3,3),
                       Y=c(4,2,3,3,4,2,3,3,5,2,3,3))
```

By observation we can tell that this is a balanced data set and we said above that it has interaction. This means we can run two functions on the code to get the confidence interval calculations. The two functions are `balanced_with_interaction()` and `gauge_rr()`. 

```{r}
gaugerr::balanced_with_interaction(example2)
```

```{r}
gaugerr::gauge_rr(example2, interaction = TRUE, factor1 = example2$P, factor2 = example2$O)
```

The `html_vignette` template includes a basic CSS theme. To override this theme you can specify your own CSS in the document metadata as follows:

    output: 
      rmarkdown::html_vignette:
        css: mystyles.css

## Figures

The figure sizes have been customised so that you can easily put two images side-by-side. 

```{r, fig.show='hold'}
plot(1:10)
plot(10:1)
```

You can enable figure captions by `fig_caption: yes` in YAML:

    output:
      rmarkdown::html_vignette:
        fig_caption: yes

Then you can use the chunk option `fig.cap = "Your figure caption."` in **knitr**.

## More Examples

You can write math expressions, e.g. $Y = X\beta + \epsilon$, footnotes^[A footnote here.], and tables, e.g. using `knitr::kable()`.

```{r, echo=FALSE, results='asis'}
knitr::kable(head(mtcars, 10))
```

Also a quote using `>`:

> "He who gives up [code] safety for [code] speed deserves neither."
([via](https://twitter.com/hadleywickham/status/504368538874703872))
